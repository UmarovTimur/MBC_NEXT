# /mcdonald/.htaccess

<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /mcdonald/

  # 1. Если запрос идет к РЕАЛЬНОМУ файлу (с расширением .js, .css, .txt, .html),
  # останавливаем все перенаправления и отдаем файл как есть.
  RewriteCond %{REQUEST_FILENAME} -f
  RewriteRule ^ - [L]

  # 2. Если в конце нет слэша, и это НЕ файл (нет точки в названии), 
  # то добавляем слэш (для совместимости с trailingSlash: true)
  RewriteCond %{REQUEST_URI} !(\.[a-zA-Z0-9]{1,5}|/)$
  RewriteRule ^(.*)$ $1/ [R=301,L]

  # 3. Стандартный роутинг для Next.js
  # Если папка существует, ищем в ней index.html
  ; RewriteCond %{REQUEST_FILENAME} -d
  ; RewriteCond %{REQUEST_FILENAME}/index.html -f
  ; RewriteRule ^(.*)$ $1/index.html [L]
</IfModule>